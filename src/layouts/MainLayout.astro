---
import { ViewTransitions } from "astro:transitions";
import "@styles/base.css";

interface Props {
    title: string;
    description?: string;
    currentSection?: string;
}

const { title, description = "Atlas CSS Framework - Moderne UI-Komponenten und Effekte", currentSection } = Astro.props;

const navSections = [
    { id: "home", href: "/", label: "Home", icon: "home" },
    { id: "components", href: "/components", label: "Components", icon: "cube" },
    { id: "styles", href: "/styles", label: "Styles", icon: "palette" },
    { id: "effects", href: "/effects", label: "Effects", icon: "sparkles" },
    { id: "web-components", href: "/web-components", label: "Web Components", icon: "code" },
    { id: "admin", href: "/admin", label: "Admin Demo", icon: "layout" },
];
---

<!doctype html>
<html lang="de" class="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content={description} />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <title>{title} - Atlas UI</title>
        <ViewTransitions />
        <script
            is:inline
            src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.4/dist/htmx.min.js"
        ></script>
        <script
            is:inline
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.0/dist/cdn.min.js"
        ></script>
    </head>
    <body class="min-h-screen bg-[#0a0a1a] text-white">
        <!-- Ambient Background -->
        <div class="fixed inset-0 overflow-hidden pointer-events-none">
            <div class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-violet-500/10 rounded-full blur-[120px]"></div>
            <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-fuchsia-500/10 rounded-full blur-[100px]"></div>
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-blue-500/5 rounded-full blur-[150px]"></div>
        </div>

        <div class="relative min-h-screen flex flex-col">
            <!-- Header -->
            <header class="sticky top-0 z-50 backdrop-blur-xl bg-[#0a0a1a]/80 border-b border-white/5">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex items-center justify-between h-16">
                        <!-- Logo -->
                        <a href="/" class="flex items-center gap-3 group">
                            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center shadow-lg shadow-violet-500/25">
                                <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                                </svg>
                            </div>
                            <div>
                                <span class="text-xl font-bold bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent">
                                    Atlas UI
                                </span>
                                <span class="hidden sm:inline text-xs text-gray-500 ml-2">v0.2.0</span>
                            </div>
                        </a>

                        <!-- Desktop Navigation -->
                        <nav class="hidden lg:flex items-center gap-1">
                            {navSections.map((section) => (
                                <a
                                    href={section.href}
                                    class:list={[
                                        "px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",
                                        currentSection === section.id
                                            ? "bg-white/10 text-white"
                                            : "text-gray-400 hover:text-white hover:bg-white/5"
                                    ]}
                                >
                                    {section.label}
                                </a>
                            ))}
                        </nav>

                        <!-- GitHub Link -->
                        <div class="flex items-center gap-4">
                            <a
                                href="https://github.com/casoon/atlas"
                                target="_blank"
                                rel="noopener"
                                class="hidden sm:flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all duration-200"
                            >
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                                </svg>
                                <span class="text-sm">GitHub</span>
                            </a>

                            <!-- Mobile Menu Button -->
                            <button
                                x-data="{ open: false }"
                                @click="open = !open; $dispatch('toggle-mobile-menu')"
                                class="lg:hidden p-2 rounded-lg hover:bg-white/10 transition-colors"
                            >
                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Mobile Navigation -->
                <div
                    x-data="{ open: false }"
                    @toggle-mobile-menu.window="open = !open"
                    x-show="open"
                    x-transition:enter="transition ease-out duration-200"
                    x-transition:enter-start="opacity-0 -translate-y-2"
                    x-transition:enter-end="opacity-100 translate-y-0"
                    x-transition:leave="transition ease-in duration-150"
                    x-transition:leave-start="opacity-100 translate-y-0"
                    x-transition:leave-end="opacity-0 -translate-y-2"
                    class="lg:hidden border-t border-white/5"
                >
                    <nav class="px-4 py-3 space-y-1">
                        {navSections.map((section) => (
                            <a
                                href={section.href}
                                class:list={[
                                    "block px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",
                                    currentSection === section.id
                                        ? "bg-white/10 text-white"
                                        : "text-gray-400 hover:text-white hover:bg-white/5"
                                ]}
                            >
                                {section.label}
                            </a>
                        ))}
                    </nav>
                </div>
            </header>

            <!-- Main Content -->
            <main class="flex-1" transition:animate="fade">
                <slot />
            </main>

            <!-- Footer -->
            <footer class="relative border-t border-white/5 bg-[#0a0a1a]/80 backdrop-blur-xl">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <!-- Brand -->
                        <div class="md:col-span-2">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center">
                                    <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                                    </svg>
                                </div>
                                <span class="text-xl font-bold">Atlas UI</span>
                            </div>
                            <p class="text-gray-400 text-sm max-w-md">
                                Ein modernes CSS-Framework mit eleganten Glassmorphism-Effekten,
                                Web Components und interaktiven UI-Elementen.
                            </p>
                        </div>

                        <!-- Links -->
                        <div>
                            <h4 class="font-semibold text-white mb-4">Dokumentation</h4>
                            <ul class="space-y-2 text-sm">
                                <li><a href="/components" class="text-gray-400 hover:text-white transition-colors">Components</a></li>
                                <li><a href="/styles" class="text-gray-400 hover:text-white transition-colors">Styles</a></li>
                                <li><a href="/effects" class="text-gray-400 hover:text-white transition-colors">Effects</a></li>
                                <li><a href="/web-components" class="text-gray-400 hover:text-white transition-colors">Web Components</a></li>
                            </ul>
                        </div>

                        <div>
                            <h4 class="font-semibold text-white mb-4">Resources</h4>
                            <ul class="space-y-2 text-sm">
                                <li><a href="https://github.com/casoon/atlas" target="_blank" rel="noopener" class="text-gray-400 hover:text-white transition-colors">GitHub</a></li>
                                <li><a href="https://www.npmjs.com/package/@casoon/atlas-styles" target="_blank" rel="noopener" class="text-gray-400 hover:text-white transition-colors">npm</a></li>
                                <li><a href="/admin" class="text-gray-400 hover:text-white transition-colors">Admin Demo</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-12 pt-8 border-t border-white/5 flex flex-col sm:flex-row justify-between items-center gap-4">
                        <p class="text-gray-500 text-sm">
                            &copy; 2025 Casoon. Alle Rechte vorbehalten.
                        </p>
                        <p class="text-gray-500 text-sm">
                            Built with
                            <a href="https://astro.build" target="_blank" rel="noopener" class="text-violet-400 hover:text-violet-300">Astro</a>,
                            <a href="https://tailwindcss.com" target="_blank" rel="noopener" class="text-violet-400 hover:text-violet-300">Tailwind</a> &amp;
                            <a href="https://htmx.org" target="_blank" rel="noopener" class="text-violet-400 hover:text-violet-300">HTMX</a>
                        </p>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Atlas Initialization -->
        <script>
            import { atlasInit } from "@casoon/atlas-components";

            function initAtlas() {
                atlasInit();
            }

            document.addEventListener("DOMContentLoaded", initAtlas);
            document.addEventListener("astro:page-load", initAtlas);
        </script>
    </body>
</html>
