---
import DocsLayout from "@layouts/DocsLayout.astro";
import { webComponentsSidebar } from "@/data/sidebars";
---

<DocsLayout
    title="atlas-otp"
    description="One-time password input component for verification codes"
    currentSection="web-components"
    currentPage="/web-components/otp"
    sidebar={webComponentsSidebar}
>
    <nav class="mb-6 text-sm breadcrumbs">
        <ul class="flex gap-2 text-surface-400">
            <li><a href="/web-components" class="hover:text-primary-400">Web Components</a></li>
            <li class="before:content-['/'] before:mr-2">atlas-otp</li>
        </ul>
    </nav>

    <header class="mb-12">
        <h1 class="text-4xl font-bold text-surface-900 mb-4">atlas-otp</h1>
        <p class="text-xl text-surface-600 max-w-3xl">
            A one-time password input component for verification codes with auto-focus and paste support.
        </p>
    </header>

    <!-- Basic OTP -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">Basic OTP Input</h2>

        <div class="p-8 bg-surface-50 rounded-xl border border-surface-200 mb-6">
            <div class="flex gap-3 justify-center">
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
            </div>
        </div>

        <pre class="bg-surface-900 text-surface-100 p-6 rounded-xl overflow-x-auto text-sm"><code>&lt;atlas-otp length="6"&gt;&lt;/atlas-otp&gt;</code></pre>
    </section>

    <!-- Different Lengths -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">Different Lengths</h2>

        <div class="p-8 bg-surface-50 rounded-xl border border-surface-200 mb-6">
            <div class="space-y-6">
                <div>
                    <p class="text-sm text-surface-500 mb-3 text-center">4 digits</p>
                    <div class="flex gap-3 justify-center">
                        <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                    </div>
                </div>
                <div>
                    <p class="text-sm text-surface-500 mb-3 text-center">8 digits</p>
                    <div class="flex gap-2 justify-center">
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <span class="flex items-center text-surface-400">-</span>
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                        <input type="text" maxlength="1" class="w-10 h-12 text-center text-xl font-semibold border border-surface-300 rounded-lg" />
                    </div>
                </div>
            </div>
        </div>

        <pre class="bg-surface-900 text-surface-100 p-6 rounded-xl overflow-x-auto text-sm"><code>&lt;atlas-otp length="4"&gt;&lt;/atlas-otp&gt;
&lt;atlas-otp length="8" separator="-" separator-after="4"&gt;&lt;/atlas-otp&gt;</code></pre>
    </section>

    <!-- Password Mode -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">Password Mode</h2>

        <div class="p-8 bg-surface-50 rounded-xl border border-surface-200 mb-6">
            <div class="flex gap-3 justify-center">
                <input type="password" maxlength="1" value="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                <input type="password" maxlength="1" value="2" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                <input type="password" maxlength="1" value="3" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                <input type="password" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                <input type="password" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
                <input type="password" maxlength="1" class="w-12 h-14 text-center text-2xl font-semibold border border-surface-300 rounded-lg" />
            </div>
        </div>

        <pre class="bg-surface-900 text-surface-100 p-6 rounded-xl overflow-x-auto text-sm"><code>&lt;atlas-otp length="6" type="password"&gt;&lt;/atlas-otp&gt;</code></pre>
    </section>

    <!-- Validation States -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">Validation States</h2>

        <div class="p-8 bg-surface-50 rounded-xl border border-surface-200 mb-6">
            <div class="space-y-6">
                <div>
                    <div class="flex gap-3 justify-center">
                        <input type="text" value="1" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-green-500 rounded-lg bg-green-50" />
                        <input type="text" value="2" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-green-500 rounded-lg bg-green-50" />
                        <input type="text" value="3" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-green-500 rounded-lg bg-green-50" />
                        <input type="text" value="4" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-green-500 rounded-lg bg-green-50" />
                    </div>
                    <p class="text-center text-sm text-green-600 mt-2">Code verified successfully!</p>
                </div>
                <div>
                    <div class="flex gap-3 justify-center">
                        <input type="text" value="0" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-red-500 rounded-lg bg-red-50" />
                        <input type="text" value="0" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-red-500 rounded-lg bg-red-50" />
                        <input type="text" value="0" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-red-500 rounded-lg bg-red-50" />
                        <input type="text" value="0" class="w-12 h-14 text-center text-2xl font-semibold border-2 border-red-500 rounded-lg bg-red-50" />
                    </div>
                    <p class="text-center text-sm text-red-600 mt-2">Invalid code. Please try again.</p>
                </div>
            </div>
        </div>

        <pre class="bg-surface-900 text-surface-100 p-6 rounded-xl overflow-x-auto text-sm"><code>&lt;atlas-otp length="4" valid&gt;&lt;/atlas-otp&gt;
&lt;atlas-otp length="4" invalid error="Invalid code"&gt;&lt;/atlas-otp&gt;</code></pre>
    </section>

    <!-- JavaScript API -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">JavaScript API</h2>

        <pre class="bg-surface-900 text-surface-100 p-6 rounded-xl overflow-x-auto text-sm"><code>const otp = document.querySelector('atlas-otp');

// Get the complete value
console.log(otp.value); // "123456"

// Set value programmatically
otp.value = "123456";

// Clear the input
otp.clear();

// Focus the first input
otp.focus();

// Listen for completion
otp.addEventListener('complete', (e) =&gt; {'{'}
    console.log('OTP entered:', e.detail.value);
    // Verify the code
{'}'});

// Listen for changes
otp.addEventListener('change', (e) =&gt; {'{'}
    console.log('Current value:', e.detail.value);
{'}'});</code></pre>
    </section>

    <!-- Properties -->
    <section class="mb-16">
        <h2 class="text-2xl font-semibold text-surface-800 mb-6">Properties</h2>

        <div class="overflow-x-auto">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="border-b border-surface-200">
                        <th class="py-4 px-4 text-surface-900 font-semibold">Property</th>
                        <th class="py-4 px-4 text-surface-900 font-semibold">Type</th>
                        <th class="py-4 px-4 text-surface-900 font-semibold">Default</th>
                        <th class="py-4 px-4 text-surface-900 font-semibold">Description</th>
                    </tr>
                </thead>
                <tbody class="text-surface-600">
                    <tr class="border-b border-surface-100">
                        <td class="py-4 px-4"><code class="text-primary-600">length</code></td>
                        <td class="py-4 px-4">number</td>
                        <td class="py-4 px-4">6</td>
                        <td class="py-4 px-4">Number of input fields</td>
                    </tr>
                    <tr class="border-b border-surface-100">
                        <td class="py-4 px-4"><code class="text-primary-600">type</code></td>
                        <td class="py-4 px-4">string</td>
                        <td class="py-4 px-4">"text"</td>
                        <td class="py-4 px-4">Input type (text, password, number)</td>
                    </tr>
                    <tr class="border-b border-surface-100">
                        <td class="py-4 px-4"><code class="text-primary-600">separator</code></td>
                        <td class="py-4 px-4">string</td>
                        <td class="py-4 px-4">""</td>
                        <td class="py-4 px-4">Separator character between groups</td>
                    </tr>
                    <tr class="border-b border-surface-100">
                        <td class="py-4 px-4"><code class="text-primary-600">disabled</code></td>
                        <td class="py-4 px-4">boolean</td>
                        <td class="py-4 px-4">false</td>
                        <td class="py-4 px-4">Disable all inputs</td>
                    </tr>
                    <tr class="border-b border-surface-100">
                        <td class="py-4 px-4"><code class="text-primary-600">autofocus</code></td>
                        <td class="py-4 px-4">boolean</td>
                        <td class="py-4 px-4">false</td>
                        <td class="py-4 px-4">Focus first input on mount</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

</DocsLayout>
